{% extends 'base.html' %}

{% block content %}
  <h1>Twoje najlepsze podejÅ›cia</h1>

  {% if not table_ready %}
    <div class="card warning">
      <p><strong>Uwaga:</strong> WyglÄ…da na to, Å¼e nie wykonano migracji bazy danych.</p>
      <p>Uruchom w terminalu: <code>python manage.py migrate</code></p>
    </div>
  {% endif %}

  {% if attempts %}
    <div class="grid">
      {% for a in attempts %}
        <a class="card card-link" href="{% url 'attempt_detail' a.pk %}">
          <header class="card-header">
            <span class="badge">{{ a.get_lift_type_display }}</span>
            <div class="right-meta">
              {% if a.video %}<span class="video-indicator" title="Ma nagranie">ðŸŽ¬</span>{% endif %}
              <time datetime="{{ a.date }}">{{ a.date }}</time>
            </div>
          </header>
          <div class="card-body">
            <div class="pr-value">{{ a.weight_kg }} kg</div>
            {% if a.notes %}
              <p class="notes">{{ a.notes|truncatechars:120 }}</p>
            {% endif %}
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="empty">
      <p>Brak zapisanych prÃ³b. <a href="{% url 'add_attempt' %}">Dodaj pierwszÄ…</a>!</p>
    </div>
  {% endif %}
{% endblock %}
